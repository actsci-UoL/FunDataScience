{"title":"Getting started with R","markdown":{"headingText":"Getting started with R","headingAttr":{"id":"Wk1","classes":[],"keyvalue":[]},"containsRefs":false,"markdown":"\n## Overview\n\n### Objectives\n\nOn successful completion of this module, you should be able to:\n\n  - Define data science and discuss its role in actuarial science and business analytics\n  - Create and run simple program scripts in the RStudio environment and read data into R from a local tabular file\n  - Create and share literate programs and reports using R Markdown and undertake simple EDA (including summary statistics and informative visualisations) of data in a tabular structure\n  - Implement a reproducible workflow for simple data science project and describe ethical and regulatory issues to be considered when undertaking a data science project\n\nI prefer an alternative statement of the objectives:\n\nBy the end of this module you will be confident in handling data in a collaborative and reproducible way. In other words in a __professional__ way. You will be able to:\n\n  - get\n  - clean\n  - check\n  - restructure\n  - filter, sort, join & summarise\n  - explore\n  - visualise...\n  \n...data\n\nThe specific objectives for this week are:\n\n1. Access your R Server account\n2. Upload Task 1 from Blackboard to the server\n3. Complete the exercises in the Week 1 task\n4. Knit to HTML and download HTML and RMD files\n5. Complete the Week 1 Blackboard test\n6. Submit RMD and HTML files on Blackboard\n7. Complete the Week 1 Reflective Survey\n\n### Problem-based learning\n\nThe structure of this module may be a bit different to what you have come across before.\n\nIn a \"traditional\" university lecture you arrive without having done any preparation, the lecturer gives you some information, and you go away to try and absorb it and probably do some exercises or homework.\n\nIn a \"flipped\" classroom you are supposed to have done reading, or used other resources, so that you have some familiarity with the material before the class. In class you focus on applying what you have learnt to some exercises.\n\nThis module is quite similar to a flipped classroom, but here, working on the task and learning what you need to successfully complete it will happen much more in parallel. I will give you a quick overview of some of the things you need to know each week, and there will be some indicative reading. But after that it is up to you (usually working as part of a team) to work out a good solution to the task.\n\nThis is much more like the way things happen in real life.\n  \n### Introductions\n  - Dr Paul King FIA (Lecturer)\n    + paul.king@leicester.ac.uk\n    + No set office hours: email for an appointment\n  - Your friendly TAs\n    + Silvia Freund - skf10.le.ac.uk\n    + Ibrahim Issahaku - iai5@le.ac.uk\n\n\n\n### Class times\n\n  - Tuesday 12:00 - 13:00, Rattray Lecture Theatre (please enter through upper doors)\n  - Wednesday 11:00 - 13:00, Computer Labs\n    + Charles Wilson 304/305 for undergraduates and ASDA\n    + Sir Bob Burgess 0.04 for DABI\n  \n### How this module works\n\n  - A certain amount of lecturing (mostly on Tuesdays)\n  - A lot of group problem solving (on Wednesday)\n  - A lot of self study: using the reading list and other on-line resources\n  - Additional resources:\n    + Data Science Club (if you want to run one!)\n    + DataCamp\n  - The weekly tasks for an important part of the learning activity on this module and the completed tasks will be a key part of the set of notes you develop\n    \n### Group working\n\nFrom next week you will be working in groups on a weekly coding task. The output will be a R Markdown notebook containing your code and results - each member of the group must produce their own notebook and be able to edit it and run it on the server or their own machine. Completed tasks (i.e. the PDF file) should be submitted by midnight on Sunday (UK time) in the week of the class.\n\n### Getting help on the weekly task\n\nYou can ask for help from your TA during the Wednesday computer lab. Outside of the lab (or even inside) you can post questions on the Blackboard discussion forum. Try to formulate your question as specifically as possible and give a code sample. That way the question can be answered in the thread and benefit everybody (other students are encouraged to answer questions). If you need more detailed help a TA will contact you via Teams.\n\nI'll create a separate chat for general questions about the course. Please try to put as many of your questions here as possible so everyone can benefit, but if it's something a bit more personal, please feel free to email me (paul.king@leicester.ac.uk) directly. I'm happy to arrange a one to one meeting over Teams or face to face.\n\n### Submitting your weekly work\n\nWhen you've completed the weekly task, please submit both your RMD and HTML (sometimes you will be asked for PDF) files via the assignment links on Blackboard.\n\nYou should also complete the short weekly Blackboard test. This is based on the answers in the exercises, but will sometimes require some extra thinking or research.\n\nFinally, you should complete the weekly reflective survey. This is designed to act as a prompt for you to reflect on your week's work. It also gives us a useful indicator of who might need extra help.\n\nLinks to the test and the survey are in the Blackboard section (the Blackboard term is a Learning Module).\n\nAll of the above are important \"formative\" activities to help you learn, give you feedback on your progress, and motivate you to keep up with the work. The School will use them as part of the way it monitors your engagement with the module.\n\nHowever, none of the marks count toward the final assessment for the module. (Assessments that count for that are called \"summative\".)\n\n    \n### DataCamp\n\nThere's a link to register in the Blackboard site, and there is more information in [Getting Set Up](#datacamp1).\n\nIt's a very good idea to take advantage of this resource while it's available.\n\n\n### How this module is assessed\n\n  - Coursework mid-semester (30%)\n    + similar to problems solved in class; but\n    + you must work on your own\n    + available at the end of week 15 and due in two weeks later\n  - Final report and presentation (70%)\n    + you will work on a group data science project and produce both a detailed report of the analysis and a presentation\n    + the presentation must include slides (generated from R markdown) but they will be marked on the submitted document - you will not be required to give a stand up presentation\n    + each individual will have to identify an aspect they worked on, for questions\n    + some of the marks will be for demonstrating knowledge of the topics in the lectures after revision week\n    + assessments for MA3419 and MA7419 are different\n\n    \n## Reading\n\nR for Data Science [@wickhamR4DS]:\n\n  - Chapter 4 _Workflow: basics_\n\nR Programming for Data Science [@pengRP4DS]:\n\n  - Chapter 13 _R nuts & bolts_\n  \nYour own research\n\n\n## Reproducible data science\n\n### Introduction\n\nWe are going to discuss _Reproducible Data Science_. This is often referred to as _Reproducible Research_, but it applies to lots of data science activities we might not consider as research.\n\nIt's helpful to consider the process of data science, for example as illustrated by Roger Peng in his book _Report Writing for Data Science in R_ [@pengRWDSR].\n\n![](Images/DataSciencePipeline.png)\n\n\n---\nThe steps in the shaded box start with the raw (measured) data and end with the computational results. In this module we'll be concerned with these steps - the core of a reproducible pipeline - plus the presentation code used to produce the final output.\n\nIn this diagram _analytic data_ refers to the raw data after it has been checked, cleaned and reshaped into the right format for further analysis.\n\n### What is Reproducible Data Science?\n\nA reproducible data science process allows a reviewer or subsequent user of the work to reproduce the analysis __at least__ from the analytic data to the computational results. It should also allow them to: \n\n  - see what has been done at each stage;\n  - understand the reasons for the decisions made at each step;  \n  - check that the claimed steps have been carried out correctly.\n  \nIn all but the simplest of projects, this requires the publication of well written, and well documented, code.\n\nWhen we consider published work in the context of a scientific publication, reproducibility, as a minimum, requires making available the analytic data, code and details of the computational environment used.\n\nHowever, it's important the the whole process, including pre-processing the data and producing the final outputs, is fully documented.\n\n### Benefits (and disadvantages) of Reproducible Data Science\n\n__Scientific:__\n\n  - Replication of published work is a key element of the scientific process: reproduction of the analysis of data analysis is often the closest to replication it's realistically possible;\n  - attempts at reproduction can reveal errors with potentially serious consequences.\n  \n__Professional:__\n\n  - Ability to reproduce a workflow is key to checking for errors;\n  - Documentation of data analysis is required for work review and auditability;\n  - For actuaries, the professional standards APS X2 and APS QA2 require consideration to be given to reproducibility in relation to the above points;\n  - A reproducible work flow allows efficient reuse or modification of an analysis pipeline.\n  \n__Personal:__\n\n  - The next user of your work is most likely to be you!\n  - the process of making your work reproducible requires you to stop (or at least slow down) occasionally to make sure you are working effectively and efficiently.\n\n### How to make sure your work is reproducible\n\n  - Create a consistent filing structure for data, code, intermediate and final results;\n    + see the next section\n  - Use RStudio and `knitr` to practice _literate programming_ by creating R Markdown notebooks;\n  - Resist the temptation to do things manually - do as much programmatically as possible\n    + coding all your data manipulation is not just about automating it, it's about documenting what you've done so it can be reproduced;\n  - Comment code appropriately;\n  - Stick to a coding standard (style guide)\n    + we will use the [tidyverse style guide](https://style.tidyverse.org/){target=\"_blank\"}\n  - Save as few intermediate results as possible;\n  - Use [version control](https://www.atlassian.com/git/tutorials/what-is-version-control){target=\"_blank\"};\n  - Keep track of your [programming environment](https://rstudio.github.io/packrat/){target=\"_blank\"}\n  \nThe last two points are important, but we don't have the time to go into them in any detail in this course.\n\n### Further Reading\n\n[APS X2 Review of Actuarial Work\n](https://www.actuaries.org.uk/system/files/documents/pdf/20150122-aps-x2-final-version.pdf){target=\"_blank\"}\n\n[APS QA1 Quality Assurance for Organisations (Version 2.0)\n](https://ifoa-www.s3.eu-west-2.amazonaws.com/live/s3fs-public/Updated%20APS%20QA1%20-%20V2.pdf){target=\"_blank\"}\n\nThe Institute and Faculty of Actuaries has written about how [important Data Science is to the profession](https://www.actuaries.org.uk/learn-and-develop/lifelong-learning/what-data-science-actuarial-viewpoint).\n\n## More resources\n\nThe Bookdown [home page](https://bookdown.org/) gives you access to many very good books covering different aspects of data science with R.\n\n## Setting up your R environment.\n\nYou will be working in R every week during this module, so the first task is to make sure you have access to RStudio.\n\nThe next step is to configure your environment in a standard way so it will be relatively straightforward for us all to work share code and work together.\n\nGo ahead and:\n\n  1. Use RStudio to create a project called MA3419 or MA7419\n  2. Inside that project, create folders for each Week during the Semester, plus a folder called _Data_\n     + here is a [video](https://leicester.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=a931bb2f-51a6-4bbb-8416-ac490107e8b4) demonstrating how to do steps 1 & 2.\n  3. Install the packages 'tidyverse' and 'here'\n     + [video](https://leicester.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=faf773d1-fafa-42cd-8792-ac490114e4c7) demonstration\n  4. Get familiar with the RStudio interface\n     + [video](https://leicester.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=e7c41922-25d1-4eb3-b675-ac49010cd60e)\n  5. Get familiar with the R Markdown notebook structure and how to run code inside a notebook\n     + [video](https://leicester.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=195a932e-4a87-49a4-8f3b-ac4a00da319d)\n     + I highly recommend this [blog article](https://statsandr.com/blog/getting-started-in-r-markdown/)\n     + if you need more help, you'll almost certainly find something at [RStudio](https://education.rstudio.com/learn/beginner/){target=\"_blank\"}\n     + once you're reasonably familiar with RStudio and R Markdown have a look at some more advanced [Tips and Tricks](https://www.rstudio.com/blog/r-markdown-tips-tricks-2-cleaning-up-your-code/){target=\"_blank\"} (This won't make much sense if you're an absolute beginner, but you should bookmark it and come back to it later.)\n\n## Week 1 Task\n\nEvery week there will be a task provided as a .RMD file in the Blackboard folder. You need to copy this file into the appropriate week's folder in your MA3419/MA7419 folder and have it open in a running R session during the Wednesday computer lab. The task files will become available on Monday mornings.\n\n:::{.callout-note}\nThe marks for the weekly task are for feedback only. They don't count towards your module assessment.\n:::\n\nSometimes there will also be a data file supplied - you should copy this into your project's Data folder.\n\nSometimes I'll work through parts of the task during the Tuesday lecture, and every week I'll give feedback on the most common mistakes in the previous week's task. There will also be exercises embedded in the notes for you to complete.\n\nYour target should be to complete all the exercises in each weekly task, and submit your answers on Blackboard. You should also do the week's Blackboard test for feedback\n\nI'll release the correct code for the previous week's task on Monday morning, this will include feedback notes based on the submissions where I think that will help. \n\nOccasionally there will be _challenge exercises_ or _challenge tasks_ - these are optional.\n\n## Addendum 1: R Markdown vs Quarto\n\nAs you reseach material online you'll come across references to both R Markdown and Quarto. You'll also see the option to create Quarto documents (along with a lot of other options) when you start a new file in R Studio.\n\nR markdown is the original format which is gradually being replaced by Quarto. \n\nFor our purposes there is very little difference and we'll stick with R Markdown.\n\nYou can try it for yourself. Go to __File > New File__ and create two new files: one using R Markdown, and one using Quarto Document.\n\nLook at the starter code provided (you don't need to save them) and try to spot the difference.\n\nYou are welcome to use the Quarto format when you create your own new files, but the weekly tasks are in R Markdown format and we'll stick with that for now. (Although these notes are actually written in Quarto.)\n\n## Addendum 2: R vs Python\n\nPython is an important language for data science and machine learning and I always get asked if you can use Python instead of R.\n\nThe short answer is \"no\", because one of the objectives of this module is for you to learn R.\n\nHowever, I'm keen to explore the possibility of creating a Python version of this course so if you are interested on working on creating Python code to reproduce the examples and tasks (perhaps as part of a Data Science Club), please email me.\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":true,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"week1.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.1.251","number-depth":2,"bibliography":["Z2-book.bib","Z3-packages.bib"],"biblio-style":"apalike","link-citations":"yes","description":"These are the course notes for the 2023 version of Fundamentals of Data Science </br>(MA7419 / MA3419)","theme":{"light":"flatly","dark":"darkly"}},"extensions":{"book":{"multiFile":true}}},"pdf":{"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"week1.pdf"},"language":{},"metadata":{"block-headings":true,"number-depth":2,"bibliography":["Z2-book.bib","Z3-packages.bib"],"biblio-style":"apalike","link-citations":"yes","description":"These are the course notes for the 2023 version of Fundamentals of Data Science </br>(MA7419 / MA3419)","documentclass":"scrreprt","papersize":"A4"},"extensions":{"book":{}}}}}